<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Temperature Converter</title>
    <script>
      function getTemp(promptPhrase) {
        let inputTemp;
        while (true) {
          try {
            inputTemp = prompt(promptPhrase);
            // Check for 'cancel' - leave loop when cancel is clicked
            if (inputTemp != null) {
              if (inputTemp == "") throw "Please enter something.";
              if (isNaN(inputTemp)) throw " is not a number.";
            }

            break;

          } catch (inputErr) {
            alert(inputTemp +  inputErr);
          }
          
        }
        return inputTemp;
      }

      const degreeSymbol = "\xB0";
      const lineBreak = "\n";

      const cTemp = getTemp("Enter a Celsius temp to convert to Fahrenheit");

      const cToFahr = (cTemp * 9) / 5 + 32;
      let messageC = 
          cTemp + degreeSymbol + "C is " + cToFahr.toFixed(4) + degreeSymbol + "F";
      // If temperature exceeds or equals 212 F we append "It's boiling here" ;
      messageC = messageC + (cToFahr >= 212 ? " It's boiling here" : "");
      // If temperature is less than or equals 32 F we append "It's freezing here"
      messageC = messageC + (cToFahr <= 32 ? " It's freezing here" : "");

      // The other way
      const fTemp = getTemp("Enter a Fahrenheit temp to convert to Celsius");
      const fToCel = ((fTemp - 32) * 5) / 9;
      let messageF =
          fTemp + degreeSymbol + "F is " + fToCel.toFixed(4) + degreeSymbol + "C";
      // If temperature exceeds or equals 100 C we append "It's boiling here" ;
      messageF = messageF + (fToCel >= 100 ? " It's boiling here" : "");
      // If temperature is less than or equals 0 C we append "It's freezing here"
      messageF = messageF + (fToCel <= 0 ? " It's freezing here" : "");

      alert(messageC + lineBreak + messageF);
      console.log(messageC + lineBreak + messageF);
    </script>
  </head>

  <body></body>
</html>
